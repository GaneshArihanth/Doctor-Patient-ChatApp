{"ast":null,"code":"var _jsxFileName = \"/Users/ganesharihanth/Personal/GitHub Repo/Doctor-Patient-ChatApp/doctor-patient-chat/client/src/components/chat/ChatMessage.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Typography, Avatar, Paper, Stack, useTheme, Tooltip, IconButton, Collapse, Chip } from '@mui/material';\nimport { VolumeUp as VolumeUpIcon, Translate as TranslateIcon, Check as CheckIcon, Schedule as ScheduleIcon } from '@mui/icons-material';\nimport { format, parseISO } from 'date-fns';\nimport { getFileUrl, getFileIcon } from '../../utils/fileUpload';\n\n// File icon component is now imported from fileUpload.ts\n\n// Format file size\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatFileSize = bytes => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\nconst ChatMessage = props => {\n  _s();\n  const {\n    message,\n    isOwnMessage,\n    onTranslate,\n    onPlayAudio\n  } = props;\n  const theme = useTheme();\n  const [showTranslation, setShowTranslation] = React.useState(false);\n  const [imageError, setImageError] = React.useState(false);\n  const [showOriginal, setShowOriginal] = React.useState(false);\n  const handleImageError = () => {\n    setImageError(true);\n  };\n  const handleTranslate = () => {\n    if (onTranslate && !message.isTranslated) {\n      onTranslate(message._id, 'en'); // Default to English for demo\n    } else if (message.isTranslated) {\n      setShowOriginal(!showOriginal);\n    }\n  };\n  const handlePlayAudio = () => {\n    if (onPlayAudio && message.audioUrl) {\n      onPlayAudio(message.audioUrl);\n    }\n  };\n  const formatTime = date => {\n    try {\n      const dateObj = typeof date === 'string' ? parseISO(date) : date;\n      return format(dateObj, 'p');\n    } catch (error) {\n      return 'Invalid Date';\n    }\n  };\n  const getStatusIcon = () => {\n    switch (message.status) {\n      case 'sending':\n        return /*#__PURE__*/_jsxDEV(ScheduleIcon, {\n          sx: {\n            fontSize: '0.8rem',\n            color: 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 16\n        }, this);\n      case 'sent':\n        return /*#__PURE__*/_jsxDEV(CheckIcon, {\n          sx: {\n            fontSize: '0.8rem',\n            color: 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 16\n        }, this);\n      case 'delivered':\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n            sx: {\n              fontSize: '0.8rem',\n              color: 'text.secondary'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CheckIcon, {\n            sx: {\n              fontSize: '0.8rem',\n              color: 'text.secondary',\n              ml: -0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this);\n      case 'read':\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            color: 'primary.main'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n            sx: {\n              fontSize: '0.8rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CheckIcon, {\n            sx: {\n              fontSize: '0.8rem',\n              ml: -0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this);\n      case 'failed':\n        return /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"error\",\n          children: \"Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 16\n        }, this);\n      default:\n        return null;\n    }\n  };\n  const renderAttachment = () => {\n    var _message$attachment;\n    if (!((_message$attachment = message.attachment) !== null && _message$attachment !== void 0 && _message$attachment.fileUrl)) return null;\n    const fileUrl = getFileUrl(message.attachment.fileUrl);\n    const isImage = message.attachment.fileType === 'image';\n    const isPdf = message.attachment.fileType === 'application/pdf';\n    const fileName = message.attachment.fileName || 'Download file';\n    const fileSize = message.attachment.fileSize ? formatFileSize(message.attachment.fileSize) : '';\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 1,\n        borderRadius: 2,\n        overflow: 'hidden',\n        border: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.1)' : theme.palette.divider}`,\n        maxWidth: '100%'\n      },\n      children: isImage ? /*#__PURE__*/_jsxDEV(Box, {\n        component: \"a\",\n        href: fileUrl,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        sx: {\n          display: 'block',\n          textDecoration: 'none',\n          color: 'inherit'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"img\",\n          src: imageError ? '/placeholder-image.png' : fileUrl,\n          alt: fileName,\n          onError: handleImageError,\n          sx: {\n            maxWidth: '100%',\n            maxHeight: '300px',\n            display: 'block',\n            objectFit: 'contain',\n            borderRadius: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        component: \"a\",\n        href: fileUrl,\n        download: true,\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          p: 1.5,\n          textDecoration: 'none',\n          color: isOwnMessage ? 'rgba(255, 255, 255, 0.9)' : 'text.primary',\n          '&:hover': {\n            backgroundColor: isOwnMessage ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: 40,\n            height: 40,\n            mr: 1.5,\n            color: isOwnMessage ? 'primary.main' : 'primary.main',\n            backgroundColor: isOwnMessage ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.04)',\n            borderRadius: 1\n          },\n          children: getFileIcon(message.attachment.fileType || '')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            minWidth: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontWeight: 500,\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis'\n            },\n            children: fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), fileSize && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            sx: {\n              display: 'block',\n              color: isOwnMessage ? 'rgba(255, 255, 255, 0.7)' : 'text.secondary'\n            },\n            children: fileSize\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: isOwnMessage ? 'flex-end' : 'flex-start',\n      mb: 2,\n      px: 2\n    },\n    children: [!isOwnMessage && /*#__PURE__*/_jsxDEV(Avatar, {\n      src: message.sender.avatar,\n      alt: message.sender.name,\n      sx: {\n        width: 32,\n        height: 32,\n        mt: 'auto',\n        mr: 1,\n        bgcolor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText\n      },\n      children: message.sender.name.charAt(0).toUpperCase()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        maxWidth: '70%'\n      },\n      children: [!isOwnMessage && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          display: 'block',\n          mb: 0.5,\n          ml: 1,\n          color: 'text.secondary'\n        },\n        children: message.sender.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: isOwnMessage ? 'row-reverse' : 'row',\n        spacing: 1,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 0,\n          sx: {\n            p: 1.5,\n            borderRadius: 2,\n            borderTopLeftRadius: isOwnMessage ? 12 : 4,\n            borderTopRightRadius: isOwnMessage ? 4 : 12,\n            bgcolor: isOwnMessage ? theme.palette.primary.main : theme.palette.grey[100],\n            color: isOwnMessage ? 'primary.contrastText' : 'text.primary',\n            position: 'relative'\n          },\n          children: [message.prescription && message.prescription.medications && message.prescription.medications.length > 0 ? /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              minWidth: 260\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              sx: {\n                fontWeight: 700,\n                mb: 0.5\n              },\n              children: \"Prescription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                display: 'block',\n                mb: 1\n              },\n              children: [\"Doctor: \", message.sender.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                borderRadius: 1.5,\n                border: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.12)'}`,\n                bgcolor: isOwnMessage ? 'rgba(0,0,0,0.08)' : 'background.paper',\n                p: 1\n              },\n              children: message.prescription.medications.map((med, index) => /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  mb: index === message.prescription.medications.length - 1 ? 0 : 0.75\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mr: 1,\n                    minWidth: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      fontWeight: 600,\n                      whiteSpace: 'nowrap',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis'\n                    },\n                    children: med.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), med.dosage && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    color: \"text.secondary\",\n                    children: med.dosage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    gap: 0.5\n                  },\n                  children: [med.morning && /*#__PURE__*/_jsxDEV(Chip, {\n                    size: \"small\",\n                    label: \"Day\",\n                    color: \"primary\",\n                    variant: isOwnMessage ? 'outlined' : 'filled'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 27\n                  }, this), med.night && /*#__PURE__*/_jsxDEV(Chip, {\n                    size: \"small\",\n                    label: \"Night\",\n                    color: \"secondary\",\n                    variant: isOwnMessage ? 'outlined' : 'filled'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), message.prescription.notes && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  fontWeight: 500,\n                  display: 'block',\n                  mb: 0.25\n                },\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  whiteSpace: 'pre-wrap'\n                },\n                children: message.prescription.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this) : message.audioUrl ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: handlePlayAudio,\n                size: \"small\",\n                sx: {\n                  color: isOwnMessage ? 'inherit' : 'primary.main',\n                  p: 0.5,\n                  '&:hover': {\n                    bgcolor: isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.04)'\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(VolumeUpIcon, {\n                  fontSize: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: \"Voice message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), message.translation && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 1,\n                pt: 1,\n                borderTop: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)'}`\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  fontStyle: 'italic',\n                  opacity: 0.9\n                },\n                children: message.translation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                whiteSpace: 'pre-wrap',\n                wordBreak: 'break-word'\n              },\n              children: showOriginal && message.isTranslated && message.originalContent ? message.originalContent : message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), message.isTranslated && /*#__PURE__*/_jsxDEV(Collapse, {\n              in: showTranslation,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 1,\n                  pt: 1,\n                  borderTop: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)'}`\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), renderAttachment(), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'flex-end',\n              mt: 0.5,\n              gap: 0.5\n            },\n            children: [(onTranslate || message.isTranslated) && !message.audioUrl && /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: message.isTranslated ? showOriginal ? 'Show translation' : 'Show original' : 'Translate message',\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: handleTranslate,\n                sx: {\n                  color: isOwnMessage ? 'rgba(255, 255, 255, 0.7)' : 'text.secondary',\n                  p: 0.25,\n                  fontSize: '0.75rem',\n                  '&:hover': {\n                    color: isOwnMessage ? 'common.white' : 'text.primary',\n                    bgcolor: 'transparent'\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(TranslateIcon, {\n                  fontSize: \"inherit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                fontSize: '0.65rem',\n                color: isOwnMessage ? 'rgba(255, 255, 255, 0.7)' : 'text.secondary',\n                display: 'flex',\n                alignItems: 'center',\n                gap: 0.5\n              },\n              children: [formatTime(message.createdAt), isOwnMessage && getStatusIcon()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), isOwnMessage && /*#__PURE__*/_jsxDEV(Avatar, {\n      src: message.sender.avatar,\n      alt: message.sender.name,\n      sx: {\n        width: 32,\n        height: 32,\n        mt: 'auto',\n        ml: 1,\n        bgcolor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText\n      },\n      children: message.sender.name.charAt(0).toUpperCase()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatMessage, \"q+fHRwLDucablAQpuZFiwzYaag8=\", false, function () {\n  return [useTheme];\n});\n_c = ChatMessage;\nexport default ChatMessage;\nvar _c;\n$RefreshReg$(_c, \"ChatMessage\");","map":{"version":3,"names":["React","Box","Typography","Avatar","Paper","Stack","useTheme","Tooltip","IconButton","Collapse","Chip","VolumeUp","VolumeUpIcon","Translate","TranslateIcon","Check","CheckIcon","Schedule","ScheduleIcon","format","parseISO","getFileUrl","getFileIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","ChatMessage","props","_s","message","isOwnMessage","onTranslate","onPlayAudio","theme","showTranslation","setShowTranslation","useState","imageError","setImageError","showOriginal","setShowOriginal","handleImageError","handleTranslate","isTranslated","_id","handlePlayAudio","audioUrl","formatTime","date","dateObj","error","getStatusIcon","status","sx","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","display","children","ml","variant","renderAttachment","_message$attachment","attachment","fileUrl","isImage","fileType","isPdf","fileSize","mt","borderRadius","overflow","border","palette","divider","maxWidth","component","href","target","rel","textDecoration","src","alt","onError","maxHeight","objectFit","download","alignItems","p","backgroundColor","justifyContent","width","height","mr","flex","minWidth","fontWeight","whiteSpace","textOverflow","mb","px","sender","avatar","name","bgcolor","primary","main","contrastText","charAt","toUpperCase","direction","spacing","elevation","borderTopLeftRadius","borderTopRightRadius","grey","position","prescription","medications","length","map","med","index","dosage","gap","morning","size","label","night","notes","onClick","translation","pt","borderTop","fontStyle","opacity","wordBreak","originalContent","content","in","title","createdAt","_c","$RefreshReg$"],"sources":["/Users/ganesharihanth/Personal/GitHub Repo/Doctor-Patient-ChatApp/doctor-patient-chat/client/src/components/chat/ChatMessage.tsx"],"sourcesContent":["import React from 'react';\nimport { \n  Box, \n  Typography, \n  Avatar, \n  Paper, \n  Stack, \n  useTheme,\n  Tooltip,\n  IconButton,\n  Collapse,\n  Link,\n  Chip\n} from '@mui/material';\nimport { \n  VolumeUp as VolumeUpIcon,\n  Translate as TranslateIcon,\n  Check as CheckIcon,\n  Schedule as ScheduleIcon,\n  DoneAll as DoneAllIcon,\n  InsertDriveFile as FileIcon,\n  Image as ImageIcon,\n  PictureAsPdf as PdfIcon,\n  Description as DocumentIcon,\n  TableChart as SpreadsheetIcon\n} from '@mui/icons-material';\nimport { format, parseISO } from 'date-fns';\nimport { getLanguageName } from '../../config';\nimport { getFileUrl, getFileIcon } from '../../utils/fileUpload';\n\n// File icon component is now imported from fileUpload.ts\n\n// Format file size\nconst formatFileSize = (bytes: number): string => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\ninterface Attachment {\n  fileName: string;\n  fileUrl: string;\n  fileType: string;\n  fileSize?: number;\n}\n\ninterface PrescriptionMedication {\n  name: string;\n  dosage: string;\n  morning: boolean;\n  night: boolean;\n}\n\ninterface Prescription {\n  medications: PrescriptionMedication[];\n  notes?: string;\n}\n\ninterface Attachment {\n  fileName: string;\n  fileUrl: string;\n  fileType: string;\n  fileSize?: number;\n}\n\ninterface ChatMessageProps {\n  message: {\n    _id: string;\n    sender: {\n      _id: string;\n      name: string;\n      avatar?: string;\n      role?: string;\n    };\n    content: string;\n    isTranslated?: boolean;\n    originalContent?: string;\n    originalLanguage?: string;\n    targetLanguage?: string;\n    translation?: string;\n    audioUrl?: string;\n    prescription?: Prescription;\n    attachment?: Attachment;\n    createdAt: Date | string;\n    status: 'sending' | 'sent' | 'delivered' | 'read' | 'failed';\n  };\n  isOwnMessage: boolean;\n  onTranslate?: (messageId: string, targetLanguage?: string) => void;\n  onPlayAudio?: (audioUrl: string) => void;\n}\n\nconst ChatMessage: React.FC<ChatMessageProps> = (props) => {\n  const { message, isOwnMessage, onTranslate, onPlayAudio } = props;\n  const theme = useTheme();\n  const [showTranslation, setShowTranslation] = React.useState(false);\n  const [imageError, setImageError] = React.useState(false);\n  const [showOriginal, setShowOriginal] = React.useState(false);\n\n  const handleImageError = () => {\n    setImageError(true);\n  };\n\n  const handleTranslate = () => {\n    if (onTranslate && !message.isTranslated) {\n      onTranslate(message._id, 'en'); // Default to English for demo\n    } else if (message.isTranslated) {\n      setShowOriginal(!showOriginal);\n    }\n  };\n\n  const handlePlayAudio = () => {\n    if (onPlayAudio && message.audioUrl) {\n      onPlayAudio(message.audioUrl);\n    }\n  };\n\n  const formatTime = (date: string | Date) => {\n    try {\n      const dateObj = typeof date === 'string' ? parseISO(date) : date;\n      return format(dateObj, 'p');\n    } catch (error) {\n      return 'Invalid Date';\n    }\n  };\n\n  const getStatusIcon = () => {\n    switch (message.status) {\n      case 'sending':\n        return <ScheduleIcon sx={{ fontSize: '0.8rem', color: 'text.secondary' }} />;\n      case 'sent':\n        return <CheckIcon sx={{ fontSize: '0.8rem', color: 'text.secondary' }} />;\n      case 'delivered':\n        return (\n          <Box sx={{ display: 'flex' }}>\n            <CheckIcon sx={{ fontSize: '0.8rem', color: 'text.secondary' }} />\n            <CheckIcon sx={{ fontSize: '0.8rem', color: 'text.secondary', ml: -0.5 }} />\n          </Box>\n        );\n      case 'read':\n        return (\n          <Box sx={{ display: 'flex', color: 'primary.main' }}>\n            <CheckIcon sx={{ fontSize: '0.8rem' }} />\n            <CheckIcon sx={{ fontSize: '0.8rem', ml: -0.5 }} />\n          </Box>\n        );\n      case 'failed':\n        return <Typography variant=\"caption\" color=\"error\">Failed</Typography>;\n      default:\n        return null;\n    }\n  };\n\n  const renderAttachment = () => {\n    if (!message.attachment?.fileUrl) return null;\n\n    const fileUrl = getFileUrl(message.attachment.fileUrl);\n    const isImage = message.attachment.fileType === 'image';\n    const isPdf = message.attachment.fileType === 'application/pdf';\n    const fileName = message.attachment.fileName || 'Download file';\n    const fileSize = message.attachment.fileSize ? formatFileSize(message.attachment.fileSize) : '';\n\n    return (\n      <Box\n        sx={{\n          mt: 1,\n          borderRadius: 2,\n          overflow: 'hidden',\n          border: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.1)' : theme.palette.divider}`,\n          maxWidth: '100%',\n        }}\n      >\n        {isImage ? (\n          <Box\n            component=\"a\"\n            href={fileUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            sx={{\n              display: 'block',\n              textDecoration: 'none',\n              color: 'inherit',\n            }}\n          >\n            <Box\n              component=\"img\"\n              src={imageError ? '/placeholder-image.png' : fileUrl}\n              alt={fileName}\n              onError={handleImageError}\n              sx={{\n                maxWidth: '100%',\n                maxHeight: '300px',\n                display: 'block',\n                objectFit: 'contain',\n                borderRadius: 1,\n              }}\n            />\n          </Box>\n        ) : (\n          <Box\n            component=\"a\"\n            href={fileUrl}\n            download\n            sx={{\n              display: 'flex',\n              alignItems: 'center',\n              p: 1.5,\n              textDecoration: 'none',\n              color: isOwnMessage ? 'rgba(255, 255, 255, 0.9)' : 'text.primary',\n              '&:hover': {\n                backgroundColor: isOwnMessage\n                  ? 'rgba(255, 255, 255, 0.05)'\n                  : 'rgba(0, 0, 0, 0.02)',\n              },\n            }}\n          >\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                width: 40,\n                height: 40,\n                mr: 1.5,\n                color: isOwnMessage ? 'primary.main' : 'primary.main',\n                backgroundColor: isOwnMessage\n                  ? 'rgba(255, 255, 255, 0.1)'\n                  : 'rgba(0, 0, 0, 0.04)',\n                borderRadius: 1,\n              }}\n            >\n              {getFileIcon(message.attachment.fileType || '')}\n            </Box>\n            <Box sx={{ flex: 1, minWidth: 0 }}>\n              <Typography\n                variant=\"body2\"\n                sx={{\n                  fontWeight: 500,\n                  whiteSpace: 'nowrap',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                }}\n              >\n                {fileName}\n              </Typography>\n              {fileSize && (\n                <Typography\n                  variant=\"caption\"\n                  sx={{\n                    display: 'block',\n                    color: isOwnMessage ? 'rgba(255, 255, 255, 0.7)' : 'text.secondary',\n                  }}\n                >\n                  {fileSize}\n                </Typography>\n              )}\n            </Box>\n          </Box>\n        )}\n      </Box>\n    );\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: isOwnMessage ? 'flex-end' : 'flex-start',\n        mb: 2,\n        px: 2,\n      }}\n    >\n      {!isOwnMessage && (\n        <Avatar \n          src={message.sender.avatar}\n          alt={message.sender.name}\n          sx={{ \n            width: 32, \n            height: 32, \n            mt: 'auto',\n            mr: 1,\n            bgcolor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n          }}\n        >\n          {message.sender.name.charAt(0).toUpperCase()}\n        </Avatar>\n      )}\n\n      <Box sx={{ maxWidth: '70%' }}>\n        {!isOwnMessage && (\n          <Typography \n            variant=\"caption\" \n            sx={{ \n              display: 'block', \n              mb: 0.5, \n              ml: 1, \n              color: 'text.secondary' \n            }}\n          >\n            {message.sender.name}\n          </Typography>\n        )}\n\n        <Stack direction={isOwnMessage ? 'row-reverse' : 'row'} spacing={1}>\n          <Paper\n            elevation={0}\n            sx={{\n              p: 1.5,\n              borderRadius: 2,\n              borderTopLeftRadius: isOwnMessage ? 12 : 4,\n              borderTopRightRadius: isOwnMessage ? 4 : 12,\n              bgcolor: isOwnMessage \n                ? theme.palette.primary.main \n                : theme.palette.grey[100],\n              color: isOwnMessage ? 'primary.contrastText' : 'text.primary',\n              position: 'relative',\n            }}\n          >\n            {message.prescription && message.prescription.medications && message.prescription.medications.length > 0 ? (\n              <Box sx={{ minWidth: 260 }}>\n                <Typography variant=\"subtitle2\" sx={{ fontWeight: 700, mb: 0.5 }}>\n                  Prescription\n                </Typography>\n                <Typography variant=\"caption\" sx={{ display: 'block', mb: 1 }}>\n                  Doctor: {message.sender.name}\n                </Typography>\n                <Box\n                  sx={{\n                    borderRadius: 1.5,\n                    border: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.12)'}`,\n                    bgcolor: isOwnMessage ? 'rgba(0,0,0,0.08)' : 'background.paper',\n                    p: 1,\n                  }}\n                >\n                  {message.prescription.medications.map((med, index) => (\n                    <Box\n                      key={index}\n                      sx={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center',\n                        mb: index === message.prescription!.medications.length - 1 ? 0 : 0.75,\n                      }}\n                    >\n                      <Box sx={{ mr: 1, minWidth: 0 }}>\n                        <Typography variant=\"body2\" sx={{ fontWeight: 600, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                          {med.name}\n                        </Typography>\n                        {med.dosage && (\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {med.dosage}\n                          </Typography>\n                        )}\n                      </Box>\n                      <Box sx={{ display: 'flex', gap: 0.5 }}>\n                        {med.morning && (\n                          <Chip size=\"small\" label=\"Day\" color=\"primary\" variant={isOwnMessage ? 'outlined' : 'filled'} />\n                        )}\n                        {med.night && (\n                          <Chip size=\"small\" label=\"Night\" color=\"secondary\" variant={isOwnMessage ? 'outlined' : 'filled'} />\n                        )}\n                      </Box>\n                    </Box>\n                  ))}\n                </Box>\n                {message.prescription.notes && (\n                  <Box sx={{ mt: 1 }}>\n                    <Typography variant=\"caption\" sx={{ fontWeight: 500, display: 'block', mb: 0.25 }}>\n                      Notes\n                    </Typography>\n                    <Typography variant=\"caption\" sx={{ whiteSpace: 'pre-wrap' }}>\n                      {message.prescription.notes}\n                    </Typography>\n                  </Box>\n                )}\n              </Box>\n            ) : message.audioUrl ? (\n              <>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                  <IconButton\n                    onClick={handlePlayAudio}\n                    size=\"small\"\n                    sx={{\n                      color: isOwnMessage ? 'inherit' : 'primary.main',\n                      p: 0.5,\n                      '&:hover': {\n                        bgcolor: isOwnMessage\n                          ? 'rgba(255, 255, 255, 0.2)'\n                          : 'rgba(0, 0, 0, 0.04)',\n                      },\n                    }}\n                  >\n                    <VolumeUpIcon fontSize=\"small\" />\n                  </IconButton>\n                  <Typography variant=\"body2\">Voice message</Typography>\n                </Box>\n                {message.translation && (\n                  <Box sx={{ mt: 1, pt: 1, borderTop: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)'}` }}>\n                    <Typography variant=\"body2\" sx={{ fontStyle: 'italic', opacity: 0.9 }}>\n                      {message.translation}\n                    </Typography>\n                  </Box>\n                )}\n              </>\n            ) : (\n              <>\n                <Typography variant=\"body1\" sx={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>\n                  {showOriginal && message.isTranslated && message.originalContent\n                    ? message.originalContent\n                    : message.content}\n                </Typography>\n                \n                {message.isTranslated && (\n                  <Collapse in={showTranslation}>\n                    <Box sx={{ mt: 1, pt: 1, borderTop: `1px solid ${isOwnMessage ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)'}` }}>\n                      <Typography variant=\"body2\">\n                        {message.content}\n                      </Typography>\n                    </Box>\n                  </Collapse>\n                )}\n              </>\n            )}\n\n            {renderAttachment()}\n\n            <Box \n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'flex-end',\n                mt: 0.5,\n                gap: 0.5,\n              }}\n            >\n              {(onTranslate || message.isTranslated) && !message.audioUrl && (\n                <Tooltip \n                  title={\n                    message.isTranslated \n                      ? showOriginal ? 'Show translation' : 'Show original'\n                      : 'Translate message'\n                  }\n                >\n                  <IconButton\n                    size=\"small\"\n                    onClick={handleTranslate}\n                    sx={{\n                      color: isOwnMessage ? 'rgba(255, 255, 255, 0.7)' : 'text.secondary',\n                      p: 0.25,\n                      fontSize: '0.75rem',\n                      '&:hover': {\n                        color: isOwnMessage ? 'common.white' : 'text.primary',\n                        bgcolor: 'transparent',\n                      },\n                    }}\n                  >\n                    <TranslateIcon fontSize=\"inherit\" />\n                  </IconButton>\n                </Tooltip>\n              )}\n\n              <Typography \n                variant=\"caption\" \n                sx={{\n                  fontSize: '0.65rem',\n                  color: isOwnMessage ? 'rgba(255, 255, 255, 0.7)' : 'text.secondary',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 0.5,\n                }}\n              >\n                {formatTime(message.createdAt)}\n                {isOwnMessage && getStatusIcon()}\n              </Typography>\n            </Box>\n          </Paper>\n        </Stack>\n      </Box>\n\n      {isOwnMessage && (\n        <Avatar \n          src={message.sender.avatar}\n          alt={message.sender.name}\n          sx={{ \n            width: 32, \n            height: 32, \n            mt: 'auto',\n            ml: 1,\n            bgcolor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n          }}\n        >\n          {message.sender.name.charAt(0).toUpperCase()}\n        </Avatar>\n      )}\n    </Box>\n  );\n};\n\nexport default ChatMessage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}